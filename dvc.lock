schema: '2.0'
stages:
  create_pretraining_data:
    cmd: python src/create_pretraining_data.py --config=params.yaml
    deps:
    - path: src/create_pretraining_data.py
      hash: md5
      md5: 2897ac128c1e80fee8fc7f318dd99e88
      size: 705
    params:
      params.yaml:
        data.pretraining_parquet: data/raw/pretraining/train-00001-of-00002.parquet
        data.pretraining_txt: data/raw/pretraining/pretraining.txt
    outs:
    - path: data/raw/pretraining/pretraining.txt
      hash: md5
      md5: a1188e77c69cecd0f276a7e355bf7b46
      size: 271380149
  create_tokenizer:
    cmd: python src/create_tokenizer.py --config=params.yaml
    deps:
    - path: src/create_tokenizer.py
      hash: md5
      md5: bf0af90be37de8d28f541c051108a21d
      size: 660
    params:
      params.yaml:
        data.pretraining_txt: data/raw/pretraining/pretraining.txt
        data.vocab_dir: data/tokenizer/spm_model
        hyperparameters.vocab_size: 10000
    outs:
    - path: data/tokenizer/spm_model.model
      hash: md5
      md5: 7af9c385fcb3ced1bbe55c6b15890f33
      size: 409670
